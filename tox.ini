[tox]
minversion = 1.6
envlist = py27,pep8

[testenv]
install_command = pip install -U {opts} {packages}
setenv = VIRTUAL_ENV={envdir}
deps = -r{toxinidir}/requirements.txt
       -r{toxinidir}/test-requirements.txt
commands = nosetests {posargs} --with-doctest --with-coverage --cover-package=openquake openquake.tests

[testenv:pep8]
commands = flake8 openquake

[testenv:venv]
commands = {posargs}
